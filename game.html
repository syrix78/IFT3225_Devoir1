<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <p>Start</p>
    <div id="playArea">
        <button onclick="start()" id="startButton">Start</button>
    </div>

    <script>
        var questionList = [["Is mayonnaise an instrument?", ["Yes", "No"], 0], ["hey", ["a", "b"], 1], ["click on 7", ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10"], 7]]
        var questionPointer = 0
        var globalScore = 0
        var answerScore = 0
        var scoreDecreaser = setInterval(decreaseScore, 100)
        function start() {
            questionOrchestrator(questionList[0])
        }
        function questionOrchestrator(questionItems) {
            document.getElementById("playArea").innerHTML = ""
            questionGenerator(questionItems[0], questionItems[1], questionItems[2])
            answerScore = 100
        }
        function questionGenerator(question, answers, correct){
            var questionElement = document.createElement("p")
            questionElement.innerHTML = question
            playArea.appendChild(questionElement)
            for (let answerCount = 0; answerCount < answers.length; answerCount++){
                var answerElement = document.createElement("button")
                answerElement.innerHTML = answers[answerCount]
                answerElement.id = answerCount.toString()
                answerElement.setAttribute("onclick", "answerQuestion(" + (answerCount == correct).toString() + ")");
                playArea.appendChild(answerElement)
            }
        }
        function answerQuestion(answer){
            document.getElementById("playArea").innerHTML = ""
            if(answer){
                globalScore += answerScore
                textGenerator(["You answered correctly!", "You gained " + answerScore.toString() + " score!", "Your total score is now " + globalScore.toString() + "."])
            } else {
                textGenerator(["Wrong!", "You gained NO score.", "Your score is still " + globalScore.toString() + "."])
            }
            questionPointer++
            var nextQuestion = document.createElement("button")
            nextQuestion.innerHTML = "Next question"
            nextQuestion.setAttribute("onclick", "questionOrchestrator(questionList[" + questionPointer.toString() + "])");
            playArea.appendChild(nextQuestion)
        }
        function textGenerator(listOfText){
            for (let textCount = 0; textCount < listOfText.length; textCount++){
                var questionElement = document.createElement("p")
                questionElement.innerHTML = listOfText[textCount]
                playArea.appendChild(questionElement)
            }
        }
        function decreaseScore(){
            answerScore--
        }
    </script>
</body>